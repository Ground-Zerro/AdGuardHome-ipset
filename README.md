# –û–≥–ª–∞–≤–ª–µ–Ω–∏–µ

* [AdGuard Home + IPSet Web UI](#adguard-home--ipset-web-ui)
* [üöÄ –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è](#-–¥–æ–ø–æ–ª–Ω–µ–Ω–∏—è)

  * [Frontend (React / TypeScript)](#frontend-react--typescript)
  * [Backend (Go)](#backend-go)
  * [üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è](#-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è)
* [üß© –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ IPSet](#-–¥–æ—Å—Ç—É–ø–Ω—ã–µ-–Ω–∞—Å—Ç—Ä–æ–π–∫–∏-ipset) 
* [üîê –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è](#-—Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è)
* [üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞](#-—É—Å—Ç–∞–Ω–æ–≤–∫–∞)

  * [Keenetic / Entware / opkg](#keenetic--entware--opkg)
* [ü§ù –°—Å—ã–ª–∫–∏](#-—Å—Å—ã–ª–∫–∏)
* [ü§ù –ü–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å](#-–ø–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å)

---

# AdGuard Home + IPSet Web UI

–§–æ—Ä–∫ **AdGuard Home** —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π **IPSet** –≤ –≤–µ–±-–∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–µ. –ü—Ä–æ–µ–∫—Ç –¥–æ–±–∞–≤–ª—è–µ—Ç –ø–æ–ª–Ω–æ—Ü–µ–Ω–Ω–æ–µ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ IP-–Ω–∞–±–æ—Ä–∞–º–∏ –ø—Ä—è–º–æ –∏–∑ UI, –±–µ–∑ —Ä—É—á–Ω–æ–≥–æ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–∞ —Å–µ—Ä–≤–∏—Å–∞.

---

## üöÄ –î–æ–ø–æ–ª–Ω–µ–Ω–∏—è

### Frontend (React / TypeScript)

* –û—Ç–¥–µ–ª—å–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —É–ø—Ä–∞–≤–ª–µ–Ω–∏—è IPSet: `/#ipset`.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –ø—Ä–∞–≤–∏–ª –∏–∑ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ –∏ –≤–Ω–µ—à–Ω–∏—Ö —Ñ–∞–π–ª–æ–≤.
* –ü–æ–ª–Ω—ã–π –Ω–∞–±–æ—Ä CRUD-–æ–ø–µ—Ä–∞—Ü–∏–π –¥–ª—è –∑–∞–ø–∏—Å–µ–π IP –∏ –ø–æ–¥—Å–µ—Ç–µ–π.
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ IPSet —Å –ø–µ—Ä–µ–∫–ª—é—á–∞—Ç–µ–ª–µ–º –∞–∫—Ç–∏–≤–∞—Ü–∏–∏.
* –ú–æ–¥–∞–ª—å–Ω—ã–µ –æ–∫–Ω–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è IPSet.
* –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Å–æ–∑–¥–∞–≤–∞—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –Ω–∞–±–æ—Ä–æ–≤ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ (—á–µ—Ä–µ–∑ –∑–∞–ø—è—Ç—É—é –≤ –∏–º–µ–Ω–∏).
* –¢–∞–±–ª–∏—á–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å —Å –∫–Ω–æ–ø–∫–∞–º–∏ —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∏ —É–¥–∞–ª–µ–Ω–∏—è.
* –†—É—Å—Å–∫–∞—è –∏ –∞–Ω–≥–ª–∏–π—Å–∫–∞—è –ª–æ–∫–∞–ª–∏–∑–∞—Ü–∏–∏.
* –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ —á–µ—Ä–µ–∑ –º–µ–Ω—é: `Settings ‚Üí IPSet`.
* –ò–∑–º–µ–Ω–µ–Ω–∏—è –ø—Ä–∏–º–µ–Ω—è—é—Ç—Å—è –±–µ–∑ –ø–µ—Ä–µ–∑–∞–≥—Ä—É–∑–∫–∏.
* –°–æ–∑–¥–∞–Ω–∏–µ –æ—Ç—Å—É—Ç—Å—Ç–≤—É—é—â–∏—Ö IPSet –ø—Ä–∏ —Å—Ç–∞—Ä—Ç–µ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

### Backend (Go)

* –î–æ–±–∞–≤–ª–µ–Ω—ã `IpsetCreateConfig` –∏ `IpsetSetConfig` –≤ DNS-–∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—é.
* –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–∞–±–æ—Ä–æ–≤ —á–µ—Ä–µ–∑ –±–∏–±–ª–∏–æ—Ç–µ–∫—É `go-ipset/v2`.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ IPv4 (`inet`) –∏ IPv6 (`inet6`).
* –†–∞–±–æ—Ç–∞ —Å —Ç–∏–ø–∞–º–∏ IPSet: `hash:ip` –∏ `hash:net`.
* –ù–∞—Å—Ç—Ä–æ–π–∫–∏ `timeout` –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–≥–æ —É–¥–∞–ª–µ–Ω–∏—è –∑–∞–ø–∏—Å–µ–π.
* –ü—Ä–æ–ø—É—Å–∫ —Å–æ–∑–¥–∞–Ω–∏—è —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö –Ω–∞–±–æ—Ä–æ–≤ —Å –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ–º.

### üîß –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

–ü—Ä–∏–º–µ—Ä —Ä–∞—Å—à–∏—Ä–µ–Ω–Ω–æ–≥–æ –±–ª–æ–∫–∞ –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏ AdGuard Home:

```yaml
dns:
  ipset_create:
    enabled: true
    sets:
      - name: my_ipset
        type: hash:ip
        family: inet
        timeout: 300
```

## üß© –î–æ—Å—Ç—É–ø–Ω—ã–µ –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ IPSet

* –¢–∏–ø—ã: `hash:ip`, `hash:net`.
* –ü—Ä–æ—Ç–æ–∫–æ–ª—ã: IPv4 –∏ IPv6.
* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `timeout` –¥–ª—è –∞–≤—Ç–æ-–æ—á–∏—Å—Ç–∫–∏ –ø—Ä–∞–≤–∏–ª.

---

## üîê –¢—Ä–µ–±–æ–≤–∞–Ω–∏—è

* –ü–æ–¥–¥–µ—Ä–∂–∫–∞ `ipset` –≤ —Å–∏—Å—Ç–µ–º–µ.

  > –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `opkg update && opkg install ipset`

* –£—Å—Ç–∞–Ω–æ–≤–ª–µ–Ω–Ω—ã–π `curl`.

  > –£—Å—Ç–∞–Ω–æ–≤–∫–∞: `opkg update && opkg install curl`

## üõ† –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### Keenetic / Entware / opkg

1. –î–æ–±–∞–≤—å—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:

   ```bash
   curl -Ls "https://ground-zerro.github.io/release/keenetic/install-feed.sh" | sh
   ```

2. –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –ø–∞–∫–µ—Ç:

   ```bash
   opkg install adguardhome-go-ipset
   ```

   > –ü–µ—Ä–≤—ã–π –∑–∞–ø—É—Å–∫ –≤—Ä—É—á–Ω—É—é: `/opt/etc/init.d/S99adguardhome start`

3. –ü–µ—Ä–µ–π–¥–∏—Ç–µ –≤ –±—Ä–∞—É–∑–µ—Ä–µ –Ω–∞ `<router_ip>:3000` –∏ –ø—Ä–æ–¥–æ–ª–∂–∏—Ç–µ —É—Å—Ç–∞–Ω–æ–≤–∫—É.

---

## ü§ù –°—Å—ã–ª–∫–∏

–û—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–µ–∫—Ç: [https://github.com/AdguardTeam/AdGuardHome](https://github.com/AdguardTeam/AdGuardHome)

–§–æ—Ä–∫ —Å –ø–æ–¥–¥–µ—Ä–∂–∫–æ–π IPSet –≤ UI –¥–ª—è –¥—Ä—É–≥–∏—Ö –ø–ª–∞—Ç—Ñ–æ—Ä–º: [https://github.com/Ground-Zerro/AdGuardHome](https://github.com/Ground-Zerro/AdGuardHome)

## ü§ù –ü–æ–±–ª–∞–≥–æ–¥–∞—Ä–∏—Ç—å

**–°–∫–∞–∑–∞—Ç—å "–°–ø–∞—Å–∏–±–æ" –º–æ–∂–Ω–æ –Ω–∞** [boosty](https://boosty.to/ground_zerro) ‚ù§Ô∏è
